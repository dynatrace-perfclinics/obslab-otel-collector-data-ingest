{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Ingest Telemetry Data to Dynatrace using the OpenTelemetry Collector","text":"<p>Support Policy</p> <p>This is a demo project created by the Developer Relations team at Dynatrace, showcasing integrations with open source technologies.</p> <p>Support is provided via GitHub issues only. The materials provided in this repository are offered \"as-is\" without any warranties, express or implied. Use them at your own risk.</p> <p>View the Code</p> <p>The code for this repository is hosted on GitHub. Click the \"View Code on GitHub\" link above.</p> <p>This hands-on demo will guide you through the process of ingesting telemetry data (metrics, logs and traces) using the Dynatrace OpenTelemetry collector.</p> <p>This demo uses the OpenTelemetry demo application and the Dynatrace OpenTelemetry collector distribution (why might I want to use the Dynatrace OTEL Collector?).</p>"},{"location":"#compatibility","title":"Compatibility","text":"Deployment Tutorial Compatible Dynatrace Managed \u2714\ufe0f Dynatrace SaaS \u2714\ufe0f <ul> <li>Click Here to Begin </li> </ul>"},{"location":"access-ui/","title":"4. Access User Interface","text":""},{"location":"access-ui/#access-the-demo-user-interface","title":"Access The Demo User Interface","text":"<p>Note: This step is optional because there is a load generator already running. Observability data will be flowing into Dynatrace.</p> <p>Expose the user interface on port 8080 by port-forwarding:</p> <pre><code>kubectl -n default port-forward svc/my-otel-demo-frontendproxy 8080:8080\n</code></pre> <p>Go to the <code>Ports</code> tab, right click the port <code>8080</code> and choose \"Open in Browser\".</p> <p>You should see the OpenTelemetry demo application.</p> <p></p>"},{"location":"access-ui/#click-here-to-continue","title":"Click Here to Continue...","text":""},{"location":"cleanup/","title":"Cleanup","text":"<p>Go to https://github.com/codespaces and delete the codespace which will delete the demo environment.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>You must have the following to use this hands on demo.</p> <ul> <li>A Dynatrace environment (sign up here)</li> <li>A Dynatrace API token (see below)</li> </ul> <p>Save the Dynatrace environment URL without the trailing slash and without the <code>.apps.</code> in the URL:</p> <pre><code>https://abc12345.live.dynatrace.com\n</code></pre>"},{"location":"getting-started/#create-api-token","title":"Create API Token","text":"<p>In Dynatrace:</p> <ul> <li>Press <code>ctrl + k</code>. Search for <code>access tokens</code>.</li> <li>Create a new access token with the following permissions:<ul> <li><code>metrics.ingest</code></li> <li><code>logs.ingest</code></li> <li><code>openTelemetryTrace.ingest</code></li> </ul> </li> </ul>"},{"location":"getting-started/#start-demo","title":"Start Demo","text":"<p>Click this button to open the demo environment. This will open in a new tab.</p> <p></p>"},{"location":"getting-started/#click-here-to-continue","title":"Click Here to Continue...","text":""},{"location":"install-opentelemetry-components/","title":"3. Install Components","text":""},{"location":"install-opentelemetry-components/#create-a-kubernetes-secret","title":"Create a Kubernetes secret","text":"<p>Use <code>kubectl</code> to create a <code>Secret</code> to store your Dynatrace connection details.</p> <p>Substitute your values into the following command and execute it.</p> <p>Change <code>abc12345</code> to your environment ID and change <code>dt0c01.sample.secret</code> to the value of your API token (generated above).</p> <p>Note: Do not change the name. Leave as <code>dynatrace-otelcol-dt-api-credentials</code></p> <pre><code>kubectl create secret generic dynatrace-otelcol-dt-api-credentials \\\n--from-literal=DT_ENDPOINT=https://abc12345.live.dynatrace.com/api/v2/otlp \\\n--from-literal=DT_API_TOKEN=dt0c01.sample.secret\n</code></pre> <p>You should see this: <code>secret/dynatrace-otelcol-dt-api-credentials created</code></p>"},{"location":"install-opentelemetry-components/#add-opentelemetry-helm-charts-and-update","title":"Add OpenTelemetry Helm charts and Update","text":"<p>Copy and paste the following to add the OpenTelemetry Helm chart and update it to the latest versions.</p> <pre><code>helm repo add open-telemetry https://open-telemetry.github.io/opentelemetry-helm-charts\nhelm repo update\n</code></pre>"},{"location":"install-opentelemetry-components/#configure-and-install-dynatrace-opentelemetry-collector","title":"Configure and Install Dynatrace OpenTelemetry Collector","text":"<p>Create RBAC roles and role bindings so that hte collector (which you will install next) can retrieve topology metadata information from the Kubernetes API:</p> <pre><code>kubectl apply -f collector-rbac.yaml\n</code></pre> <p>The OpenTelemetry collector requires a configuration file.</p> <p>This is already available in the environment. See collector-values.yaml</p> <p>You do not need to modify this file.</p> <p>Install the collector by copy and pasting this content:</p> <pre><code>helm upgrade -i dynatrace-collector open-telemetry/opentelemetry-collector -f collector-values.yaml\n</code></pre> <p>After Helm indicates it has installed, run the following command and you should see a pod either <code>Pending</code> or <code>Running</code>.</p> <pre><code>kubectl get pods\n</code></pre> <p>Wait and periodically re-run <code>kubectl get pods</code> until the Pod is <code>Running</code>.</p>"},{"location":"install-opentelemetry-components/#install-opentelemetry-demo","title":"Install OpenTelemetry Demo","text":"<p>Use Helm to install the OpenTelemetry demo system, passing the configuration file (already created for you - see otel-demo-values.yaml).</p> <p>This is a demo website we will use to generate OpenTelemetry data (logs, metrics and traces).</p> <pre><code>helm upgrade -i my-otel-demo open-telemetry/opentelemetry-demo -f otel-demo-values.yaml\n</code></pre> <p>The Pods may take 2-3 minutes to start, but running <code>kubectl get pods</code> should eventually show the pods running.</p>"},{"location":"install-opentelemetry-components/#click-here-to-continue","title":"Click Here to Continue...","text":""},{"location":"resources/","title":"Resources","text":""},{"location":"resources/#why-would-i-use-the-dynatrace-otel-collector","title":"Why would I use the Dynatrace OTEL Collector?","text":"<p>See here.</p>"},{"location":"view-observability-data/","title":"5. View Observability Data","text":""},{"location":"view-observability-data/#query-and-view-observability-data","title":"Query and View Observability Data","text":"<p>In Dynatrace, press <code>Ctrl + k</code> again and search for <code>Notebooks</code>.</p> <p>Create a new notebook and add a new section exploring the logs.</p> <p>Add a new section and choose <code>Query Grail</code>. This section type allows you to write your own Dynatrace Query Language (DQL) to have full control over the data you retrieve.</p> <p>Type: <code>fetch spans</code> in the DQL box and execute the query.</p>"},{"location":"view-observability-data/#click-here-to-cleanup-resources","title":"Click Here to Cleanup resources...","text":""},{"location":"whats-next/","title":"What's Next?","text":"<p>TODO</p> <p>Content about how the user progresses after this demo...</p>"},{"location":"whats-next/#resources","title":"Resources","text":""},{"location":"snippets/disclaimer/","title":"Disclaimer","text":"<p>Support Policy</p> <p>This is a demo project created by the Developer Relations team at Dynatrace, showcasing integrations with open source technologies.</p> <p>Support is provided via GitHub issues only. The materials provided in this repository are offered \"as-is\" without any warranties, express or implied. Use them at your own risk.</p>"},{"location":"snippets/preview-functionality/","title":"Preview functionality","text":"<p>Preview Functionality</p> <p>This demo uses functionality that is still in Preview.</p> <p>After creating a Dynatrace environment, please sign up for this preview functionality.</p>"},{"location":"snippets/view-code/","title":"View code","text":"<p>View the Code</p> <p>The code for this repository is hosted on GitHub. Click the \"View Code on GitHub\" link above.</p>"}]}